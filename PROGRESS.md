## Gamesync Backend Progress

팀이 날짜별로 어떤 기능을 구현/변경했는지 기록합니다. 각 항목은 실제 소스의 파일/모듈 기준으로 작성합니다.

### 업데이트 방법

- 새로운 작업이 배포되거나 메인 브랜치에 머지되면 아래 표에 한 줄을 추가합니다.
- 형식: 날짜(YYYY-MM-DD), 담당, 작업 범위, 요약, 관련 파일/모듈, 상태
- 가능하면 커밋/PR 번호, 이슈 번호를 요약에 함께 적습니다. (예: PR #12, commit abc1234)

### 변경 이력

| 날짜       | 담당                  | 작업 범위             | 요약                                                                                                                                                                                         | 관련 파일/모듈                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 상태 |
| ---------- | --------------------- | --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---- |
| 2025-08-03 | 최영찬               | 프로젝트              | Gradle/Spring Boot 초기화, 패키지 구조 정리                                                                                                                                                  | `build.gradle`, `settings.gradle`, `src/main/java/com/example/scheduler/SchedulerApplication.java`, `src/main/java/com/example/scheduler/controller/*`, `src/main/java/com/example/scheduler/service/*`, `src/main/java/com/example/scheduler/repository/*`, `src/main/java/com/example/scheduler/domain/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 완료 |
| 2025-08-04 | 최영찬               | 사용자                | 사용자 프로필/닉네임 조회·수정, 중복 검사                                                                                                                                                   | `src/main/java/com/example/scheduler/domain/User.java`, `src/main/java/com/example/scheduler/repository/UserRepository.java`, `src/main/java/com/example/scheduler/service/UserService.java`, `src/main/java/com/example/scheduler/controller/UserController.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 완료 |
| 2025-08-05 | 최영찬               | 인증/보안             | JWT 발급/검증, Discord OAuth2, 보안 설정/필터                                                                                                                                                | `src/main/java/com/example/scheduler/security/JwtTokenProvider.java`, `src/main/java/com/example/scheduler/security/JwtAuthenticationFilter.java`, `src/main/java/com/example/scheduler/security/OAuth2LoginSuccessHandler.java`, `src/main/java/com/example/scheduler/security/SecurityConfig.java`, `src/main/java/com/example/scheduler/service/AuthService.java`, `src/main/java/com/example/scheduler/service/CustomUserDetailsService.java`, `src/main/java/com/example/scheduler/service/DiscordOAuth2UserService.java`, `src/main/java/com/example/scheduler/controller/AuthController.java`                                                                                                                                                                                                                   | 완료 |
| 2025-08-06 | 최영찬               | 감사 로깅             | 주요 보안/관리 이벤트 감사 로깅                                                                                                                                                              | `src/main/java/com/example/scheduler/domain/AuditLog.java`, `src/main/java/com/example/scheduler/repository/AuditLogRepository.java`, `src/main/java/com/example/scheduler/service/AuditService.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 완료 |
| 2025-08-07 | 최영찬               | 게임 관리             | 기본 게임 초기화, 커스텀 게임 CRUD, 사용자 선호 관리                                                                                                                                         | `src/main/java/com/example/scheduler/domain/DefaultGame.java`, `src/main/java/com/example/scheduler/domain/CustomGame.java`, `src/main/java/com/example/scheduler/service/GameService.java`, `src/main/java/com/example/scheduler/controller/GameController.java`, `src/main/resources/default_games.txt`, `src/main/java/com/example/scheduler/config/DefaultGameInitializer.java`                                                                                                                                                                                                                                                                                                                                                                                                                                        | 완료 |
| 2025-08-08 | 최영찬               | 친구                  | 친구 요청/수락/차단 흐름 및 알림 설정                                                                                                                                                        | `src/main/java/com/example/scheduler/domain/FriendRequest.java`, `src/main/java/com/example/scheduler/domain/Friendship.java`, `src/main/java/com/example/scheduler/domain/FriendNotificationSetting.java`, `src/main/java/com/example/scheduler/repository/FriendRequestRepository.java`, `src/main/java/com/example/scheduler/repository/FriendshipRepository.java`, `src/main/java/com/example/scheduler/repository/FriendNotificationSettingRepository.java`, `src/main/java/com/example/scheduler/service/FriendService.java`, `src/main/java/com/example/scheduler/service/FriendCodeService.java`, `src/main/java/com/example/scheduler/controller/FriendController.java`                                                                                                                                     | 완료 |
| 2025-08-09 | 최영찬               | 서버(길드)            | 서버 생성/조회, 초대/가입, 통계 기초 엔드포인트                                                                                                                                              | `src/main/java/com/example/scheduler/domain/Server.java`, `src/main/java/com/example/scheduler/domain/ServerInvite.java`, `src/main/java/com/example/scheduler/repository/ServerRepository.java`, `src/main/java/com/example/scheduler/repository/ServerInviteRepository.java`, `src/main/java/com/example/scheduler/service/ServerService.java`, `src/main/java/com/example/scheduler/controller/ServerController.java`                                                                                                                                                                                                                                                                                                                                                                                                   | 완료 |
| 2025-08-10 | 최영찬               | 알림/푸시             | FCM 연동, 푸시 토큰 등록/삭제 및 알림 발송 API                                                                                                                                               | `src/main/java/com/example/scheduler/config/FirebaseConfig.java`, `src/main/java/com/example/scheduler/service/PushService.java`, `src/main/java/com/example/scheduler/service/NotificationService.java`, `src/main/java/com/example/scheduler/controller/NotificationController.java`, `src/main/java/com/example/scheduler/controller/PushTokenController.java`, `src/main/java/com/example/scheduler/README_FCM.md`                                                                                                                                                                                                                                                                                                                                                                                                     | 완료 |
| 2025-08-11 | 최영찬               | 시간표                | 유저 시간표 CRUD 및 주간 리셋 연동                                                                                                                                                           | `src/main/java/com/example/scheduler/domain/TimetableEntry.java`, `src/main/java/com/example/scheduler/repository/TimetableEntryRepository.java`, `src/main/java/com/example/scheduler/service/TimetableService.java`, `src/main/java/com/example/scheduler/controller/TimetableController.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 완료 |
| 2025-08-12 | 최영찬               | 스케줄러              | 만료 토큰 정리, 시간표 주간 초기화 스케줄러 구현                                                                                                                                             | `src/main/java/com/example/scheduler/scheduler/BlacklistCleanupScheduler.java`, `src/main/java/com/example/scheduler/scheduler/TimetableResetScheduler.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 완료 |
| 2025-08-13 | 정승수               | 문서                  | 진행 문서 초안 추가 및 표준화                                                                                                                                                                | `PROGRESS.md`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 완료 |
| 2025-08-15 | 최영찬               | 서버 관리             | 강퇴 시 해당 유저의 타임테이블 기록 삭제 및 트랜잭션 보강, 불변 Set →`HashSet`로 변경, 초대 재전송 시 기존 레코드 갱신(PENDING)으로 중복키 오류 해결, 수신자가 이미 멤버인 경우 초대 차단 | `src/main/java/com/example/scheduler/service/ServerService.java`, `src/main/java/com/example/scheduler/repository/TimetableEntryRepository.java`, `src/main/java/com/example/scheduler/domain/Server.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 완료 |
| 2025-08-15 | 최영찬               | 알림                  | “알림 지우기” 동작 개선: 서버 초대(actionable, kind=server_invite)·친구요청만 보존, 완료 알림은 삭제되도록 수정                                                                           | `src/main/java/com/example/scheduler/service/NotificationService.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 완료 |
| 2025-08-15 | 정승수               | 즐겨찾기              | 즐겨찾기 엔티티/리포지토리/서비스/컨트롤러 및 대시보드 UI 추가: 즐겨찾기 목록/토글, 별 아이콘 채움 표시                                                                                      | `src/main/java/com/example/scheduler/domain/FavoriteServer.java`, `src/main/java/com/example/scheduler/repository/FavoriteServerRepository.java`, `src/main/java/com/example/scheduler/service/ServerService.java`, `src/main/java/com/example/scheduler/controller/ServerController.java`, `gamesync-frontend/lib/server-service.ts`, `gamesync-frontend/app/dashboard/page.tsx`                                                                                                                                                                                                                                                                                                                                                                                                                                          | 완료 |
| 2025-08-15 | 정승수               | 친구                  | 친구 요청 거절 후 재전송 허용(상태 갱신), 친구 삭제 API 추가(양방향 삭제), 프론트 친구 목록에 삭제 버튼 및 모달/오버레이, z-index 조정                                                       | `src/main/java/com/example/scheduler/service/FriendService.java`, `src/main/java/com/example/scheduler/repository/FriendshipRepository.java`, `src/main/java/com/example/scheduler/controller/FriendController.java`, `gamesync-frontend/lib/friend-service.ts`, `gamesync-frontend/components/friend-drawer.tsx`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 완료 |
| 2025-08-15 | 정승수               | 인증/UX               | 토큰 만료 시 401/403 응답 모두 감지하여 자동 로그아웃 및 로그인 화면으로 이동                                                                                                                | `gamesync-frontend/lib/fetch-with-auth.ts`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 완료 |
| 2025-08-15 | 정승수               | 프론트/시간표         | 합류시간표 UI 색상 개선: 게임별 색상 고정 해시 수정 및 범례 추가                                                                                                                             | `gamesync-frontend/components/timetable-view.tsx`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 완료 |
| 2025-08-15 | 정승수               | 프론트/대시보드       | 즐겨찾기 카드에 친구 스케줄 요약 문구 추가 및 카드 크기 확대(모든 서버 섹션 제외)                                                                                                            | `gamesync-frontend/app/dashboard/page.tsx`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 완료 |
| 2025-08-15 | 최영찬               | 알림 설정             | 사용자 FCM 푸시 카테고리 설정 추가(전체/초대/친구요청/친구 스케줄) 및 API 제공, 친구 스케줄 패널 표시 옵션을 FCM 토글과 통합                                                                 | `src/main/java/com/example/scheduler/domain/User.java`, `src/main/java/com/example/scheduler/dto/UserDto.java`, `src/main/java/com/example/scheduler/controller/UserController.java`, `src/main/java/com/example/scheduler/service/NotificationService.java`, `src/main/java/com/example/scheduler/service/TimetableService.java`                                                                                                                                                                                                                                                                                                                                                                                                                          | 완료 |
| 2025-08-15 | 정승수               | 프론트/설정           | 닉네임 변경 모달 → 설정 모달로 확장: 닉네임 우측 ‘변경하기’ 버튼 분리, 하단 ‘저장’은 푸시 설정 저장 전용. 친구 스케줄 알림(FCM+패널) 단일 토글로 통합                                   | `gamesync-frontend/components/ChangeNicknameModal.tsx`(export 변경: `SettingModal`), `gamesync-frontend/components/navbar.tsx`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 완료 |
| 2025-08-17 | 최영찬               | 파티 모집/알림        | 파티 모집 도메인/API/프론트 UI 구현(생성/목록/참가/탈퇴/삭제, 정원 표시, 참가 하이라이트). 파티 생성 시 서버 멤버 전원에 PARTY 알림 발송. 사용자 설정에 파티 푸시 토글 추가.                 | `src/main/java/com/example/scheduler/domain/Party.java`, `src/main/java/com/example/scheduler/repository/PartyRepository.java`, `src/main/java/com/example/scheduler/dto/PartyDto.java`, `src/main/java/com/example/scheduler/service/PartyService.java`, `src/main/java/com/example/scheduler/controller/PartyController.java`, `src/main/java/com/example/scheduler/domain/NotificationType.java`, `src/main/java/com/example/scheduler/service/NotificationService.java`, `src/main/java/com/example/scheduler/domain/User.java`, `src/main/java/com/example/scheduler/dto/UserDto.java`, `src/main/java/com/example/scheduler/service/UserService.java`, `gamesync-frontend/components/timetable-view.tsx`, `gamesync-frontend/lib/party-service.ts`, `gamesync-frontend/components/new-party-modal.tsx` | 완료 |
| 2025-08-17 | 공동(최영찬/정승수) | 알림(FCM)             | 친구 요청/서버 초대 FCM 본문에서 JSON 원문 제거, 친화적 문구로 변환. 서비스워커와 서버 양쪽에서 정규화 처리.                                                                                 | `gamesync-frontend/public/firebase-messaging-sw.js`, `src/main/java/com/example/scheduler/service/NotificationService.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 완료 |
| 2025-08-17 | 정승수               | 프론트/UI             | “새 합류 시간 예약하기/새 파티 모집하기” 버튼 무지개 테두리 효과 추가, 파티 삭제/참가 버튼 정렬 및 색상 통일(강퇴 버튼 톤과 일치).                                                         | `gamesync-frontend/app/globals.css`, `gamesync-frontend/components/timetable-view.tsx`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 완료 |
| 2025-08-18 | 최영찬               | 인증/카카오           | Kakao OAuth2 로그인/회원가입 연동(백/프론트), Discord 전용 사용자 서비스 → 공용 서비스로 통합, 콜백 경로 분기 및 설정 추가.                                                                 | `src/main/java/com/example/scheduler/service/CustomOAuth2UserService.java`, `src/main/java/com/example/scheduler/security/SecurityConfig.java`, `src/main/java/com/example/scheduler/security/OAuth2LoginSuccessHandler.java`, `src/main/java/com/example/scheduler/domain/User.java`, `src/main/java/com/example/scheduler/repository/UserRepository.java`, `src/main/resources/application.properties`, `gamesync-frontend/app/auth/login/page.tsx`, `gamesync-frontend/app/auth/signup/page.tsx`, `gamesync-frontend/app/auth/kakao/callback/page.tsx`, `gamesync-frontend/app/auth/kakao/callback/ClientCallback.tsx`, `gamesync-frontend/app/auth/discord/callback/ClientCallback.tsx`                                                                                                                      | 완료 |
| 2025-08-18 | 정승수               | 프론트/시간표·파티   | 시간표·파티 빈 상태 CTA 추가, 파티 헤더/버튼 상단 이동, 파티 생성/삭제 시 시간표 즉시 반영, 파티 삭제 확인 모달 적용(스타일 통일), 본인 합류시간 취소/다시 정하기 토글.                     | `gamesync-frontend/components/timetable-view.tsx`, `gamesync-frontend/lib/timetable-service.ts`, `src/main/java/com/example/scheduler/controller/TimetableController.java`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 완료 |
| 2025-08-18 | 최영찬               | 백엔드/알림           | 합류시간 FCM 리마인더 도입: 사용자별 ‘합류시간 전 알림’ 분(min) 설정(기본 10)과 on/off 반영. 1분 간격 스케줄러로 N분 전 푸시 전송(저장형 알림 미생성).                                     | `src/main/java/com/example/scheduler/scheduler/TimetableReminderScheduler.java`, `src/main/java/com/example/scheduler/domain/User.java`(필드 추가), `src/main/java/com/example/scheduler/dto/UserDto.java`(DTO 확장), `src/main/java/com/example/scheduler/service/UserService.java`(설정 저장/조회)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 완료 |
| 2025-08-18 | 정승수               | 프론트/설정           | 설정 모달 개선: 모달 타이틀 ‘설정’으로 변경, 디스코드 연동 UI/문구/버튼 제거. ‘내 합류시간 알림’ 토글과 ‘합류시간 전 알림’ 입력 추가(알림 off 시 입력 비활성화, UI 크기/정렬 튜닝).    | `gamesync-frontend/components/ChangeNicknameModal.tsx`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 완료 |
| 2025-08-18 | 정승수               | 프론트·백엔드/시간표 | 본인 합류시간 ‘취소하기’ 버튼 추가 및 동작(서버 API 연동), 취소/생성/삭제 후 시간표·파티 목록 동기 갱신으로 UX 개선.                                                                      | `gamesync-frontend/components/timetable-view.tsx`, `gamesync-frontend/lib/timetable-service.ts`, `src/main/java/com/example/scheduler/controller/TimetableController.java`(DELETE 추가)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 완료 |

### 작업 체크리스트

- [X] 서버 이름 변경 기능
- [X] 서버 초기화 시간 수정
- [X] 멤버 강퇴
- [X] 관리자 권한 부여,해제
- [X] ‘/server’ 페이지 컴포넌트 글래스 처리
- [X] ‘/stats’ 페이지 컴포넌트 글래스 처리
- [X] ‘/dashboard’ 페이지 ‘입장’버튼 크기 상하폭 늘리기
- [X] 버튼 스타일 통일(글래스로)
- [X] 403 오류
- [X] 서버 삭제
- [X] 서버 떠나기
- [X] 닉네임을 추가하도록.
- [X] 멤버목록 왕관표기 구분 기능 수정
- [X] 서버 떠나기 , 서버 삭제 구분
- [X] 방이름 검색하여 코드로 초대하는 기능(모두 검색 없애고 방 코드로만 추가가능하도록(방 생성시 무작위 여섯자리 알파벳+숫자 조합을 생성)) + 서버 상세페이지에 초대코드 복사버튼같은거 두면 좋을듯
- [X] 커스텀 게임 삭제 시 확인 모달창 → 해당 게임을 등록한 유저가 있는 경우에만
- [X] 모든 시스템 로그 (누군가의 디스코드 로그인, 회원가입, 로그인, 개발자만 볼 수 있도록)
- [X] 랜딩페이지 만들기
- [X] 시간 선택을 06:00, 06:30, 07:00 … 으로
- [X] 친구기능
- [X] 친구가 일정 등록한경우 discord로 알림주기 기능
- [X] 기존 유저가 discord와 연동하는 시스템
- [X] 친구가 예약되어있는 서버 표기
- [X] 파티모집 시스템
- [X] 유저 강퇴하면 스케줄삭제
- [X] 알림 안지워지는 오류
- [X] 이미 서버 참가중인 친구는 안뜨게

### 현재 버그

### 앞으로 할 일 (Backlog)

- 문서화: Swagger/OpenAPI 스키마 자동화 및 샘플 요청/응답 추가
- 관찰성: 요청 트레이싱/구분 로그, 에러 응답 규격 표준화
- 성능: 공통 조회에 캐시(예: Redis) 도입, DB 인덱스 점검
- 안정성: 통합 테스트 보강, 스케줄러/서비스 경계 테스트 추가
- 인프라: CI 파이프라인, 프로필별 설정 분리 및 배포 스크립트 템플릿

### 기여 규칙 (Snippet)

새 줄을 추가할 때는 아래 예시처럼 적어 주세요.

```
| 2025-08-14 | your-id | 모듈명 | 한 줄 요약 (PR/이슈 참조) | `상대경로/파일1`, `상대경로/파일2` | 완료 |
```
